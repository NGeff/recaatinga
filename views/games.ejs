<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title || 'ReCaatinga' %></title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/games.css">
    <link rel="shortcut icon" href="/img/logo_head.png" />
</head>
<body>
    <header>
        <a href="/"><img src="/img/logo_head.png" alt="Logo Recaatinga" id="logo_recaatinga"></a>
        <nav>
            <ul>
                <li><a href="/#inicio">Início</a></li>
                <li><a href="/#fauna">Fauna</a></li>
                <li><a href="/#flora">Flora</a></li>
                <li><a href="/#preservacao">Preservação</a></li>
                <li><a href="/#sobre">Sobre</a></li>
                <li><a href="/games" class="active">Jogos</a></li>
                <% if (user) { %>
                    <li><a href="/dashboard">Dashboard</a></li>
                <% } else { %>
                    <li><a href="/login">Login</a></li>
                <% } %>
            </ul>
        </nav>
        <% if (user) { %>
        <div class="user-info-header">
            <span>Olá, <strong><%= user.name %></strong></span>
            <button class="btn-logout-header" onclick="logout()">Sair</button>
        </div>
        <% } %>
    </header>

    <main style="min-height: 80vh; padding: 4rem 2rem;">
        <div style="max-width: 1200px; margin: 0 auto;">
            <h1 style="color: var(--cor-primaria); font-size: 2.5rem; margin-bottom: 3rem; text-align: center;">
                Jogos Educativos
            </h1>

            <div class="games-showcase">
                <% if (games && games.length > 0) { %>
                    <% games.forEach(game => { %>
                        <div class="game-showcase-card">
                            <div class="game-showcase-img" style="background-image: url('<%= game.coverImage || '/img/default-game.jpg' %>')"></div>
                            <div class="game-showcase-content">
                                <span class="game-type-badge"><%= game.gameType %></span>
                                <h3><%= game.title %></h3>
                                <p><%= game.description || 'Explore e aprenda sobre a Caatinga' %></p>
                                <div class="game-stats">
                                    <span>Fases: <%= game.levels?.length || 0 %></span>
                                    <span>Jogadas: <%= game.totalPlays || 0 %></span>
                                </div>
                                <a href="/games/<%= game.slug %>" class="btn-play">Jogar Agora</a>
                            </div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <div style="text-align: center; padding: 4rem;">
                        <p style="font-size: 1.2rem; color: var(--cor-texto);">Nenhum jogo disponível no momento.</p>
                    </div>
                <% } %>
            </div>
        </div>
    </main>

    <footer>
        <h4>Contato</h4>
        <ul>
            <li>
                <img id="icons_footer" src="/img/instagram-32.png" alt="Instagram">
                <a href="https://www.instagram.com/vivaacaatinga.pibicjr/" target="_blank">@vivaacaatinga.pibicjr</a>
            </li>
            <li>
                <img id="icons_footer" src="/img/whatsapp-50.png" alt="WhatsApp">
                <span>(82) 9 xxxx-xxxx</span>
            </li>
        </ul>
        <p class="copyright">&copy; 2024 Recaatinga - Todos os direitos reservados</p>
    </footer>

    <script src="/js/app.js"></script>
</body>
</html>